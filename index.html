<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="initial-scale=1, width=device-width, view-fit=cover">
    <meta name="color-cheme" content="light dark">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="js/funcoes.js"></script>
    <script>
         function filtrar(){
             console.log("CLICK")
    const op = document.getElementById('optionlist').value;
    const busca = document.getElementById('demo').value;
    console.log(op)
    console.log(busca)
    $("#TableData") 
    $(() => {
        $.getJSON("js/automoveis.json", data => {
        //   if(op == "Carro"){
            
                for (var i=0; i < data['automoveis'].length; i++){
                    console.log()
                    if(String(data['automoveis'][i]["CARRO"]).trim() == busca){
                        console.log(data['automoveis'][i])
                    $("#TableData").append("<tr>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["MARCA"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CARRO"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CAMBER_DIANTEIRO_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CAMBER_DIANTEIRO_MAX"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CASTER_DIANTEIRO_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CASTER_DIANTEIRO_MAX"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CONVERGENCIA_DIANTEIRA_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CONVERGENCIA_DIANTEIRA_MAX"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CAMBER_TRASEIRA_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CAMBER_TRASEIRA_MAX"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CONVERGENCIA_TRASEIRA_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CONVERGENCIA_TRASEIRA_MAX"] + "</td>");
                    $("#TableData").append("<tr>");
                }
               }
         // }
          if(op == "Marca"){
              for (var i=0; i < data['automoveis'].length; i++){
                  if(toString(data['automoveis'][i]["MARCA"]).match(busca)){
                  $("#TableData").append("<tr>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["MARCA"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CARRO"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CAMBER_DIANTEIRO_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CAMBER_DIANTEIRO_MAX"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CASTER_DIANTEIRO_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CASTER_DIANTEIRO_MAX"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CONVERGENCIA_DIANTEIRA_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CONVERGENCIA_DIANTEIRA_MAX"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CAMBER_TRASEIRA_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CAMBER_TRASEIRA_MAX"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CONVERGENCIA_TRASEIRA_MIN"] + "</td>");
                    $("#TableData").append("<td scope='col'>" + data['automoveis'][i]["CONVERGENCIA_TRASEIRA_MAX"] + "</td>");
                    $("#TableData").append("<tr>");
                }
               }
          }
        })
    })
}
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projeto Oficina</title>
</head>
<body>
    <form action="#">
        <input type="text" id="demo" name="busca"/>
    <select id='optionlist' >
        <option>Carro</option>
        <option>Marca</option>
    </select>
    <button type="submit" onclick="filtrar()">Filtrar</button>
    </form>
    <table border="1">
        <thead>
            <tr>
                <th scope="col">Marca</th>
                <th scope="col">Carro</th>
                <th scope="col">Camber Dianteiro Mínimo</th>
                <th scope="col">Camber Dianteiro Máximo</th>
                <th scope="col">Caster Dianteiro Mínimo</th>
                <th scope="col">Caster Dianteiro Máximo</th>
                <th scope="col">Convergência Dianteira Mínimo</th>
                <th scope="col">Convergência Dianteira Máximo</th>
                <th scope="col">Camber Traseiro Mínimo</th>
                <th scope="col">Camber Traseiro Máximo</th>
                <th scope="col">Convergência Traseira Mínimo</th>
                <th scope="col">Convergência Traseira Máximo</th>
            </tr>
        </thead>
        <tbody id="TableData">

        </tbody>
    </table>
</body>
</html> 